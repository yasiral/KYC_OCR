:root{
  --bar-h: 60px;
  --accent: #1a73e8;
  --shadow: 0 2px 8px rgba(0,0,0,.08);
}

/* Layout basics */
*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0;
  font-family:system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,"Helvetica Neue",Arial;
  color:#222;background:#fafafa;
}

/* Top bar */
.topbar{
  position:sticky; top:0; z-index:1000;
  height:var(--bar-h);
  display:flex; align-items:center; justify-content:space-between;
  padding:0 12px;
  background:var(--accent); color:#fff; box-shadow:var(--shadow);
}
.topbar h1{font-size:18px; margin:0 10px 0 0; white-space:nowrap}
.toolbar{display:flex; gap:8px; align-items:center}
.toolbar select, .toolbar input, .toolbar button{
  height:32px; border-radius:6px; border:1px solid #d0d0d0; padding:0 8px;
}
.toolbar button{background:#fff; cursor:pointer}
.toolbar .split-label{color:#fff; display:flex; align-items:center; gap:4px}

/* Preview area (scrolls with page but forms “sentinel” for PiP) */
#preview-container{
  position:sticky; top:var(--bar-h); z-index:900;
  background:#fff; border-bottom:1px solid #eee; padding:8px 0 10px; text-align:center;
}
.kyc-image{
  width:25%; max-width:480px; height:auto; border-radius:10px;
  box-shadow:var(--shadow); transition:opacity .25s ease, transform .2s ease;
  cursor:zoom-in;
}
.kyc-image.enlarged{width:100%; max-width:none; cursor:zoom-out}

/* Loading overlay for preview */
#loading-indicator{
  position:absolute; left:50%; top:calc(50% + var(--bar-h));
  transform:translate(-50%, -50%);
  background:rgba(255,255,255,.95);
  padding:8px 12px; border-radius:8px; font-weight:600; display:none;
  box-shadow:var(--shadow); color:#333;
}

/* Grid of models */
.model-grid{
  display:grid;
  grid-template-columns:repeat(auto-fill,minmax(360px,1fr));
  gap:14px; padding:16px;
}
.markdown-column, .model-box{
  background:#fff; border:1px solid #e6e6e6; border-radius:8px; box-shadow:var(--shadow);
  display:flex; flex-direction:column; overflow:hidden; min-height:120px;
}

/* Headers & buttons */
.model-header-bar{
  display:flex; justify-content:space-between; align-items:center; padding:8px 12px;
  color:#fff; font-weight:600; cursor:pointer;
}
.model-header{margin:0; font-size:14px}
.maximize-btn{
  background:transparent; border:none; color:#fff; font-size:18px; cursor:pointer;
  line-height:1; padding:2px 4px; border-radius:6px;
}
.maximize-btn:hover{background:rgba(255,255,255,.15)}

/* Markdown scroll area */
.markdown-box{
  padding:10px; overflow:auto; max-height:420px; white-space:pre-wrap;
  font-family:ui-monospace,SFMono-Regular,Menlo,Consolas,monospace;
  line-height:1.35;
}
.markdown-box.collapsed{
  max-height:0 !important; padding:0 !important; overflow:hidden; transition:all .25s ease;
}

/* Fullscreen modal for model output */
.fullscreen-modal.hidden{display:none}
.fullscreen-modal{
  position:fixed; inset:0; background:rgba(0,0,0,.92); z-index:9999;
  display:flex; align-items:center; justify-content:center; padding:32px;
}
.fullscreen-content{
  width:min(1000px, 92vw); max-height:88vh; overflow:auto; background:#1f1f1f;
  border-radius:10px; padding:16px; color:#f5f5f5;
}
#close-fullscreen{
  float:right; background:transparent; border:none; color:#fff; font-size:22px; cursor:pointer;
}

/* KaTeX cosmetics */
.katex{font-size:1.05em; line-height:1.4}
.markdown-box .katex-display{display:block; margin:10px 0; text-align:center}

/* PiP floating mini preview */
.pip.hidden{display:none}
.pip{
  position:fixed; width:200px; height:150px; z-index:9500;
  right:16px; bottom:16px; border-radius:8px; overflow:hidden;
  box-shadow:0 6px 18px rgba(0,0,0,.25); background:#fff; user-select:none;
}
.pip img{width:100%; height:100%; object-fit:contain; background:#fafafa; cursor:pointer}
.pip-handle{
  position:absolute; left:0; top:0; right:0; height:20px;
  background:rgba(26,115,232,.9); cursor:grab;
}

/* Utilities */
.hidden{display:none}
